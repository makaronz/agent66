# =============================================================================
# SMC Trading Agent - Production Environment Variables Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit the actual .env file to version control

# =============================================================================
# EXCHANGE API CREDENTIALS (PRODUCTION)
# =============================================================================
# Binance API Configuration
# Get these from your Binance account: https://www.binance.com/en/my/settings/api-management
BINANCE_API_KEY=your_binance_production_api_key_here
BINANCE_API_SECRET=your_binance_production_api_secret_here

# ByBit API Configuration
# Get these from your ByBit account: https://www.bybit.com/en-us/my-api
BYBIT_API_KEY=your_bybit_production_api_key_here
BYBIT_API_SECRET=your_bybit_production_api_secret_here

# OANDA API Configuration
# Get these from your OANDA account: https://www.oanda.com/account/api
OANDA_API_KEY=your_oanda_production_api_key_here
OANDA_ACCOUNT_ID=your_oanda_production_account_id_here

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL with TimescaleDB Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=smc_trading_production
DB_USER=smc_user
DB_PASSWORD=your_secure_database_password_here

# Database connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=50
DB_POOL_TIMEOUT=30

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_DB=0
REDIS_SSL_ENABLED=true

# Redis connection pool settings
REDIS_POOL_SIZE=10
REDIS_SOCKET_TIMEOUT=5

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================
# Grafana Configuration
GRAFANA_USER=admin
GRAFANA_PASSWORD=your_secure_grafana_password_here

# Slack Alerting
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# PagerDuty (optional)
PAGERDUTY_KEY=your_pagerduty_integration_key_here

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT Configuration
JWT_SECRET=your_super_secure_jwt_secret_minimum_32_characters

# API Security
API_RATE_LIMIT=100
MAX_CONCURRENT_REQUESTS=10
CORS_ORIGINS=https://yourdomain.com

# IP Security (optional but recommended)
OFFICE_IP=your_office_ip_address_here

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
APP_ENV=production
LOG_LEVEL=INFO
DEBUG=false
TRADING_MODE=real  # paper or real

# Performance settings
TARGET_LATENCY_MS=50
THREAD_POOL_SIZE=8
ASYNC_TIMEOUT_SECONDS=30

# =============================================================================
# TRADING CONFIGURATION
# =============================================================================
# Risk Management
MAX_POSITION_SIZE_PERCENT=5.0
MAX_DAILY_LOSS_PERCENT=5.0
MAX_WEEKLY_LOSS_PERCENT=10.0
MAX_MONTHLY_LOSS_PERCENT=15.0
MAX_DRAWDOWN_PERCENT=20.0
MIN_RISK_REWARD_RATIO=2.0

# Position limits
MAX_CONCURRENT_POSITIONS=5
MAX_POSITION_SIZE_USD=10000.0
MIN_POSITION_SIZE_USD=100.0

# Circuit breaker settings
CIRCUIT_BREAKER_ENABLED=true
CONSECUTIVE_LOSSES_LIMIT=5
MAX_CORRELATION=0.7

# =============================================================================
# ML MODEL CONFIGURATION
# =============================================================================
# Model paths and settings
MODEL_DIRECTORY=models/trained/
DEPLOYMENT_STAGE=production

# Performance settings
MAX_CONCURRENT_INFERENCES=10
TARGET_INFERENCE_TIME_MS=20
CONFIDENCE_THRESHOLD=0.65

# Monitoring and drift detection
DRIFT_DETECTION_ENABLED=true
PERFORMANCE_WINDOW_HOURS=24
RETRAINING_THRESHOLD=0.60
ACCURACY_ALERT_THRESHOLD=0.55

# =============================================================================
# MULTI-TIMEFRAME ANALYSIS
# =============================================================================
# Analysis settings
MULTI_TIMEFRAME_ENABLED=true
ANALYSIS_INTERVAL_MINUTES=5
MAX_CONCURRENT_SYMBOLS=10

# Signal generation
SIGNAL_MIN_CONFIDENCE=0.7
SIGNAL_MIN_RISK_REWARD=1.5
MAX_SIGNALS_PER_SYMBOL=2

# =============================================================================
# COMPLIANCE AND AUDITING
# =============================================================================
# Regulatory compliance
MIFID_REPORTING_ENABLED=true
TRANSACTION_REPORTING_ENABLED=true
AUDIT_LOGGING_ENABLED=true

# Data protection
DATA_RETENTION_DAYS=2555  # 7 years
GDPR_ENABLED=true
DATA_ANONYMIZATION_ENABLED=true

# =============================================================================
# BACKUP AND DISASTER RECOVERY
# =============================================================================
# Backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# Storage locations (use S3, GCS, or similar)
BACKUP_STORAGE_URL=s3://your-backup-bucket/smc-trading/
CONFIG_BACKUP_URL=s3://your-backup-bucket/smc-config/

# =============================================================================
# PERFORMANCE MONITORING
# =============================================================================
# System monitoring
HEALTH_CHECK_INTERVAL_SECONDS=30
METRICS_COLLECTION_INTERVAL=60
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Alerting thresholds
ALERT_HIGH_LATENCY_MS=100
ALERT_API_ERROR_RATE=0.05
ALERT_CIRCUIT_BREAKER_RATE=0.1

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log settings
LOG_FORMAT=json
LOG_OUTPUTS=console,file
LOG_FILE_PATH=logs/smc_trading.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=10

# Structured logging
STRUCTURED_LOGGING_ENABLED=true
INCLUDE_CORRELATION_ID=true
INCLUDE_USER_ID=true
INCLUDE_REQUEST_ID=true

# =============================================================================
# DEVELOPMENT AND DEBUGGING (PRODUCTION CAUTION)
# =============================================================================
# Only enable in specific debugging scenarios
DEBUG_MODE=false
HOT_RELOAD=false
TEST_MODE=false
MOCK_EXCHANGES=false
MOCK_DATA=false

# =============================================================================
# EXCHANGE-SPECIFIC SETTINGS
# =============================================================================
# Binance specific
BINANCE_RATE_LIMIT_REQUESTS_PER_SECOND=10
BINANCE_RATE_LIMIT_ORDERS_PER_SECOND=10
BINANCE_TIMEOUT_SECONDS=30
BINANCE_RETRY_ATTEMPTS=3

# ByBit specific
BYBIT_RATE_LIMIT_REQUESTS_PER_SECOND=10
BYBIT_RATE_LIMIT_ORDERS_PER_SECOND=5
BYBIT_TIMEOUT_SECONDS=30
BYBIT_RETRY_ATTEMPTS=3

# OANDA specific
OANDA_RATE_LIMIT_REQUESTS_PER_SECOND=30
OANDA_TIMEOUT_SECONDS=30
OANDA_RETRY_ATTEMPTS=3

# =============================================================================
# RISK MANAGEMENT ADVANCED SETTINGS
# =============================================================================
# VaR and stress testing
VAR_LIMIT=0.05
STRESS_TEST_ENABLED=true
STRESS_TEST_LOSS_THRESHOLD=0.10
LEVERAGE_LIMIT=3.0

# Position sizing
POSITION_SIZING_METHOD=kelly_criterion
BASE_POSITION_SIZE_USD=1000.0
MIN_POSITION_SIZE_PERCENT=1.0

# Stop loss settings
STOP_LOSS_METHOD=order_block_based
DEFAULT_STOP_LOSS_PERCENT=2.0
MAX_STOP_LOSS_PERCENT=5.0
TRAILING_STOP_ENABLED=true
TRAILING_STOP_DISTANCE=0.01

# =============================================================================
# ENVIRONMENT VERIFICATION
# =============================================================================
# Uncomment for production verification
# ENVIRONMENT_CHECK_ENABLED=true
# PRODUCTION_VERIFICATION_REQUIRED=true

# =============================================================================
# SECURITY NOTES AND REMINDERS
# =============================================================================
# SECURITY BEST PRACTICES:
# 1. Never commit this file to version control
# 2. Use strong, unique passwords for all services
# 3. Rotate API keys and secrets regularly (every 30-90 days)
# 4. Use different keys for testing and production
# 5. Enable IP whitelisting where possible
# 6. Use a secrets management service for production
# 7. Monitor for unauthorized API usage
# 8. Keep all software and dependencies updated

# PRODUCTION DEPLOYMENT CHECKLIST:
# [ ] All API keys are for production accounts
# [ ] SSL/TLS is enabled for all external connections
# [ ] Rate limits are configured according to exchange limits
# [ ] Circuit breakers are enabled and tested
# [ ] Backup and disaster recovery is configured
# [ ] Monitoring and alerting is functional
# [ ] Security settings are reviewed and validated
# [ ] Compliance requirements are met
# [ ] Performance targets are achievable
# [ ] Failover procedures are documented and tested