apiVersion: v1
kind: Secret
metadata:
  name: smc-secrets
  namespace: smc-trading
type: Opaque
data:
  # Base64 encoded values - replace with actual encoded secrets
  # To encode: echo -n "your_secret_here" | base64
  binance-api-key: ""  # Replace with encoded API key
  binance-api-secret: ""  # Replace with encoded API secret
  postgres-password: c21jX3Bhc3N3b3Jk  # "smc_password" encoded
  grafana-password: YWRtaW4=  # "admin" encoded
  jwt-secret: c21jX2p3dF9zZWNyZXRfZGV2  # "smc_jwt_secret_dev" encoded

---
# Service account for the trading agent
apiVersion: v1
kind: ServiceAccount
metadata:
  name: smc-trading-agent
  namespace: smc-trading

---
# Role for access to resources
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: smc-trading-role
  namespace: smc-trading
rules:
- apiGroups: [""]
  resources: ["pods", "services", "configmaps", "secrets"]
  verbs: ["get", "list", "watch"]
- apiGroups: ["apps"]
  resources: ["deployments", "replicasets"]
  verbs: ["get", "list", "watch"]

---
# Role binding
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: smc-trading-rolebinding
  namespace: smc-trading
subjects:
- kind: ServiceAccount
  name: smc-trading-agent
  namespace: smc-trading
roleRef:
  kind: Role
  name: smc-trading-role
  apiGroup: rbac.authorization.k8s.io