# Example Terraform variables file for SMC Trading Agent
# Copy this file to terraform.tfvars and customize for your environment

# Basic Configuration
aws_region   = "us-west-2"
environment  = "production"
project_name = "smc-trading"

# Network Configuration
vpc_cidr = "10.0.0.0/16"

# EKS Configuration
kubernetes_version = "1.28"
cluster_endpoint_public_access_cidrs = [
  "0.0.0.0/0"  # Restrict this to your IP ranges in production
]

# Node Groups Configuration
node_groups = {
  main = {
    instance_types = ["t3.medium"]
    capacity_type  = "ON_DEMAND"
    min_size      = 2
    max_size      = 10
    desired_size  = 3
    disk_size     = 100
    ami_type      = "AL2_x86_64"
    labels = {
      role = "worker"
      environment = "production"
    }
    taints = []
  }
  
  # Uncomment for cost optimization with spot instances
  # spot = {
  #   instance_types = ["t3.medium", "t3.large", "t3a.medium", "t3a.large"]
  #   capacity_type  = "SPOT"
  #   min_size      = 0
  #   max_size      = 20
  #   desired_size  = 2
  #   disk_size     = 100
  #   ami_type      = "AL2_x86_64"
  #   labels = {
  #     role = "worker"
  #     "node.kubernetes.io/capacity-type" = "spot"
  #   }
  #   taints = [
  #     {
  #       key    = "spot"
  #       value  = "true"
  #       effect = "NO_SCHEDULE"
  #     }
  #   ]
  # }
}

# Database Configuration
db_instance_class           = "db.t3.small"  # Upgrade for production
db_allocated_storage        = 100
db_max_allocated_storage    = 1000
db_name                     = "smc_trading"
db_username                 = "smc_admin"
db_backup_retention_period  = 7
enable_multi_az            = true  # Enable for production

# Redis Configuration
redis_node_type        = "cache.t3.small"  # Upgrade for production
redis_num_cache_nodes  = 1

# Monitoring Configuration
log_retention_in_days = 30
enable_monitoring     = true

# Security Configuration
enable_encryption      = true
enable_vpc_flow_logs  = true

# Feature Flags
enable_backup         = true
enable_spot_instances = false  # Set to true for cost optimization

# Domain Configuration (optional)
# domain_name     = "smc-trading.com"
# certificate_arn = "arn:aws:acm:us-west-2:123456789012:certificate/12345678-1234-1234-1234-123456789012"

# Notification Configuration (optional)
# alert_email = "admin@smc-trading.com"
# slack_webhook_url = "https://hooks.slack.com/services/..."  # Set via environment variable