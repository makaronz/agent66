# ═══════════════════════════════════════════════════════════════════════════════
# SMC Trading Agent - Secure Environment Template
# ═══════════════════════════════════════════════════════════════════════════════
#
# SECURITY NOTICE:
# 1. Copy this file to .env.local for development
# 2. Copy this file to .env.production for production
# 3. NEVER commit actual secrets to version control
# 4. Use strong, unique secrets for production
# 5. Rotate secrets regularly (every 90 days recommended)
# ═══════════════════════════════════════════════════════════════════════════════

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ 🏗️  APPLICATION CONFIGURATION                                               │
# └─────────────────────────────────────────────────────────────────────────────┘

# Application Environment (development|staging|production)
NODE_ENV=development

# Application Ports (Standardized across all environments)
# Frontend: 5173 (Vite standard)
# Backend API: 5000 (Express standard)
# Trading Agent: 8001 (Python FastAPI)
# Monitoring: 9090 (Prometheus), 3001 (Grafana)
PORT=5000
HOST=0.0.0.0

# Application Metadata
APP_NAME=SMC_Trading_Agent
APP_VERSION=1.0.0
APP_DEBUG=false

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ 🔐  SECURITY & AUTHENTICATION                                              │
# └─────────────────────────────────────────────────────────────────────────────┘

# JWT Configuration (Generate with: openssl rand -base64 32)
JWT_SECRET=CHANGE_ME_GENERATE_NEW_32_CHARACTER_SECRET
JWT_ACCESS_SECRET=CHANGE_ME_GENERATE_NEW_ACCESS_SECRET
JWT_REFRESH_SECRET=CHANGE_ME_GENERATE_NEW_REFRESH_SECRET
JWT_EXPIRATION=3600
JWT_REFRESH_EXPIRATION=604800

# Encryption Configuration (AES-256 key: 32 characters)
ENCRYPTION_KEY=CHANGE_ME_32_CHARACTER_ENCRYPTION_KEY

# Password Hashing
BCRYPT_ROUNDS=12

# Session Management
SESSION_SECRET=CHANGE_ME_GENERATE_NEW_SESSION_SECRET
SESSION_TIMEOUT=3600000

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ 🗄️  DATABASE CONFIGURATION                                                 │
# └─────────────────────────────────────────────────────────────────────────────┘

# PostgreSQL Configuration
DATABASE_URL=postgresql://username:password@localhost:5432/smc_trading
DB_HOST=localhost
DB_PORT=5432
DB_NAME=smc_trading
DB_USER=postgres
DB_PASSWORD=CHANGE_ME_DATABASE_PASSWORD
DB_SSL=false
DB_POOL_SIZE=10

# MongoDB Configuration
MONGO_URI=mongodb://localhost:27017/smc_trading
MONGO_HOST=localhost
MONGO_PORT=27017
MONGO_DB_NAME=smc_trading
MONGO_USER=
MONGO_PASSWORD=

# Redis Configuration
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=20

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ 🌐  SUPABASE CONFIGURATION                                                  │
# └─────────────────────────────────────────────────────────────────────────────┘

# Supabase Project Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=CHANGE_ME_SUPABASE_ANON_KEY
SUPABASE_SERVICE_ROLE_KEY=CHANGE_ME_SUPABASE_SERVICE_ROLE_KEY

# Frontend Supabase Configuration (VITE_ prefix for client-side)
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=CHANGE_ME_SUPABASE_ANON_KEY

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ 💰  TRADING API CONFIGURATION                                               │
# └─────────────────────────────────────────────────────────────────────────────┘

# Binance API Configuration
BINANCE_API_KEY=CHANGE_ME_BINANCE_API_KEY
BINANCE_API_SECRET=CHANGE_ME_BINANCE_API_SECRET
BINANCE_TESTNET=true

# Bybit API Configuration
BYBIT_API_KEY=CHANGE_ME_BYBIT_API_KEY
BYBIT_API_SECRET=CHANGE_ME_BYBIT_API_SECRET
BYBIT_TESTNET=true

# OANDA API Configuration
OANDA_API_KEY=CHANGE_ME_OANDA_API_KEY
OANDA_ACCOUNT_ID=CHANGE_ME_OANDA_ACCOUNT_ID
OANDA_ENVIRONMENT=practice

# Trading Configuration
TRADING_MODE=paper
MAX_CONCURRENT_TRADES=3
DEFAULT_RISK_PERCENTAGE=1
DEFAULT_STOP_LOSS_PERCENTAGE=0.5
DEFAULT_TAKE_PROFIT_PERCENTAGE=2

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ 🌍  FRONTEND CONFIGURATION                                                   │
# └─────────────────────────────────────────────────────────────────────────────┘

# Frontend API Configuration
VITE_API_URL=http://localhost:5000
VITE_API_TIMEOUT=10000

# WebSocket Configuration
VITE_WEBSOCKET_URL=ws://localhost:8001
VITE_WEBSOCKET_RECONNECT_DELAY=5000
VITE_WEBSOCKET_PING_INTERVAL=30000
VITE_WEBSOCKET_PONG_TIMEOUT=10000
VITE_MAX_RECONNECT_ATTEMPTS=3

# Trading UI Configuration
VITE_ENABLE_TRADING=false
VITE_MAX_TRADE_SIZE=1000
VITE_DEFAULT_CHART_PERIOD=1h
VITE_MARKET_DATA_THROTTLE_MS=1000

# Development Configuration
VITE_ENABLE_STRICT_MODE=false
VITE_ENABLE_DEBUG_LOGS=true
VITE_ENABLE_PERFORMANCE_MONITORING=true

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ 🛡️  RATE LIMITING & SECURITY                                               │
# └─────────────────────────────────────────────────────────────────────────────┘

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# API Rate Limiting (Binance)
VITE_BINANCE_RATE_LIMIT_REQUESTS=1200
VITE_BINANCE_RATE_LIMIT_INTERVAL=60000

# Security Headers
HELMET_ENABLED=true
CORS_ENABLED=true
CORS_ORIGIN=http://localhost:5173
CSRF_PROTECTION=true

# DDoS Protection
DDOS_PROTECTION=true
DDOS_THRESHOLD=100
DDOS_WINDOW_MS=60000

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ 📊  LOGGING & MONITORING                                                    │
# └─────────────────────────────────────────────────────────────────────────────┘

# Logging Configuration
LOG_LEVEL=info
LOG_FILE=logs/smc_trading.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# Monitoring Configuration
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PROMETHEUS_ENDPOINT=/metrics

GRAFANA_ENABLED=true
GRAFANA_PORT=3001
GRAFANA_DASHBOARD_URL=http://localhost:3001

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ 🔄  BACKUP & ALERTING                                                        │
# └─────────────────────────────────────────────────────────────────────────────┘

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_INTERVAL=3600000
BACKUP_RETENTION_HOURS=168
BACKUP_PATH=backups

# Alerting Configuration
ALERT_EMAIL_ENABLED=false
ALERT_EMAIL_SMTP_HOST=smtp.gmail.com
ALERT_EMAIL_SMTP_PORT=587
ALERT_EMAIL_USER=alerts@yourcompany.com
ALERT_EMAIL_PASSWORD=CHANGE_ME_EMAIL_PASSWORD
ALERT_EMAIL_TO=admin@yourcompany.com

# Webhook Configuration
SLACK_WEBHOOK_URL=
DISCORD_WEBHOOK_URL=
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ 🔧  EXTERNAL SERVICES                                                        │
# └─────────────────────────────────────────────────────────────────────────────┘

# HashiCorp Vault Configuration (Optional)
VAULT_ENABLED=false
VAULT_ADDR=http://localhost:8200
VAULT_TOKEN=CHANGE_ME_VAULT_TOKEN
VAULT_MOUNT_POINT=secret

# OpenWeatherMap API (Optional - for market sentiment analysis)
OPENWEATHER_API_KEY=CHANGE_ME_OPENWEATHER_API_KEY
OPENWEATHER_CITY=New York

# Financial Data APIs (Optional)
ALPHA_VANTAGE_API_KEY=CHANGE_ME_ALPHA_VANTAGE_KEY
FINNHUB_API_KEY=CHANGE_ME_FINNHUB_KEY

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ 🐳  DOCKER & DEPLOYMENT                                                     │
# └─────────────────────────────────────────────────────────────────────────────┘

# Docker Configuration
DOCKER_REGISTRY=your-registry.com
DOCKER_IMAGE_TAG=latest
DOCKER_RESTART_POLICY=unless-stopped

# SSL/TLS Configuration (Production)
SSL_ENABLED=false
SSL_CERT_PATH=/etc/ssl/certs/cert.pem
SSL_KEY_PATH=/etc/ssl/private/key.pem

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ 🧪  DEVELOPMENT & TESTING                                                   │
# └─────────────────────────────────────────────────────────────────────────────┘

# Development Flags
CHOKIDAR_USEPOLLING=false
FAST_REFRESH=true
GENERATE_SOURCEMAP=false

# Testing Configuration
TEST_DATABASE_URL=postgresql://test:test@localhost:5432/smc_trading_test
TEST_REDIS_URL=redis://localhost:6379/1
TEST_MODE=false

# Mock Configuration
MOCK_EXCHANGES=true
MOCK_DATA=false
MOCK_ORDERS=true

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ 📝  CHANGELOG & VERSIONING                                                  │
# └─────────────────────────────────────────────────────────────────────────────┘

# Configuration Version
CONFIG_VERSION=1.0.0
LAST_UPDATED=2025-10-15

# Migration Tracking
MIGRATIONS_RUN=false
SEED_DATA_LOADED=false

# ═══════════════════════════════════════════════════════════════════════════════
# 🚨 SECURITY CHECKLIST BEFORE PRODUCTION:
# ═══════════════════════════════════════════════════════════════════════════════
# ☐ Generate new JWT secrets (32+ characters)
# ☐ Generate new encryption key (32 characters)
# ☐ Generate new session secret (32+ characters)
# ☐ Set up actual Supabase project and update URLs/keys
# ☐ Configure real database credentials
# ☐ Set up trading API keys (use testnet initially)
# ☐ Configure Redis if using external Redis
# ☐ Set up monitoring and alerting
# ☐ Configure SSL certificates for production
# ☐ Set up backup and disaster recovery
# ☐ Test all API endpoints and trading functionality
# ☐ Run security scan and penetration testing
# ═══════════════════════════════════════════════════════════════════════════════