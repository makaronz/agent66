---
description: Todo2 MCP Integration - AI-powered todo management with 6 optimized MCP tools - use this Complete Workflow Process to manage all your queries everytime! No exceptions!
alwaysApply: true
---

# ğŸ§  AI Task State Machine with Todo2 + MCP

## ğŸš¨ CRITICAL TODO2 WORKFLOW REQUIREMENT

**âš ï¸ ABSOLUTE RULE: EVERY USER REQUEST MUST USE TODO2 WORKFLOW âš ï¸**

**BEFORE ANY WORK, YOU MUST:**
1. ğŸ“‹ **Create todo(s)** based on intelligent complexity assessment 
2. ğŸ” **Search the local codebase** for existing patterns and context
3. ğŸŒ **Search the internet** for 2025 information using web search tools
4. ğŸ“ **Document both searches** in a research_with_links comment with verified links

**ğŸ§  INTELLIGENT TASK CREATION: ASSESS COMPLEXITY, OPTIMIZE EFFICIENCY ğŸ§ **

**TODO2 WORKFLOW IS MANDATORY - TASK COUNT IS CONTEXT-DEPENDENT**

---

## ğŸ¯ SIMPLICITY & CLEAN CODE MANDATE

**âš ï¸ CRITICAL: AI MUST ALWAYS PREFER SIMPLE, CLEAN SOLUTIONS âš ï¸**

**ğŸ§¹ CLEAN CODE PRINCIPLES (NON-NEGOTIABLE):**
- **Simple over Complex**: Always choose the straightforward approach over elaborate solutions
- **Clear over Clever**: Prioritize readability and understanding over showing off technical prowess
- **Minimal over Maximal**: Use the least amount of code necessary to solve the problem effectively
- **Direct over Abstract**: Avoid unnecessary layers of abstraction unless truly needed for the specific use case

**ğŸš« FORBIDDEN APPROACHES:**
- **Reinventing the wheel**: Building custom solutions when proven libraries/tools already exist
- Over-engineering simple problems with complex patterns
- Creating unnecessary abstractions "for future flexibility"
- Using advanced features when basic ones suffice
- Building elaborate architectures for straightforward tasks
- Adding complexity without clear, immediate benefit

**âœ… PREFERRED APPROACHES:**
- **Leverage existing solutions first**: Search for proven libraries, frameworks, and tools before building from scratch
- **Don't reinvent the wheel**: Use established, well-maintained packages and solutions that solve your problem
- Use built-in language features and standard libraries first
- Choose well-established, simple patterns over exotic ones
- Write code that a junior developer can easily understand
- Implement the most direct solution that meets the requirements
- Add complexity only when requirements explicitly demand it

**ğŸ¯ SIMPLICITY DECISION FRAMEWORK:**
1. "Does a library or existing solution already solve this problem?" â†’ If YES, use the existing solution
2. "Is there a simpler way to achieve the same result?" â†’ If YES, use the simpler way
3. "Would a junior developer understand this immediately?" â†’ If NO, simplify further
4. "Am I adding complexity for hypothetical future needs?" â†’ If YES, remove the complexity
5. "Does this solution do exactly what's needed, no more?" â†’ If NO, trim to requirements

**Remember: The best code is not the cleverest codeâ€”it's the code that solves the problem clearly and simply.**

---

## ğŸ“‹ Documentation Sections

This workflow is organized into focused sections for better maintainability:

### ğŸ”„ Workflow Requirements

- Task assessment policy and decision framework
- Task lifecycle state machine
- Review workflow and human approval requirements
- Intelligent task creation strategy

# ğŸ§  AI Task State Machine with Todo2 + MCP

## ğŸš¨ CRITICAL TODO2 WORKFLOW REQUIREMENT

**âš ï¸ ABSOLUTE RULE: EVERY USER REQUEST MUST USE TODO2 WORKFLOW âš ï¸**

**BEFORE ANY WORK, YOU MUST:**
1. ğŸ“‹ **Create todo(s)** based on intelligent complexity assessment (see guidelines below)
2. ğŸ” **Search the local codebase** for existing patterns and context
3. ğŸŒ **Search the internet** for 2025 information using web search tools
4. ğŸ“ **Document both searches** in a research_with_links comment with verified links

**ğŸ§  INTELLIGENT TASK CREATION: ASSESS COMPLEXITY, OPTIMIZE EFFICIENCY ğŸ§ **

**TODO2 WORKFLOW IS MANDATORY - TASK COUNT IS CONTEXT-DEPENDENT**

### ğŸ¯ INTELLIGENT TASK ASSESSMENT POLICY

**âœ… CREATE MULTIPLE TASKS (2-10) WHEN:**
- **Complex Implementation**: Requires research + design + implementation + testing phases
- **Multiple Components**: Changes span multiple files, systems, or teams
- **Parallel Work Opportunities**: Different aspects can be worked on simultaneously
- **Unknown Territory**: Requires investigation before implementation approach is clear
- **High-Stakes Changes**: Benefits from staged approach with validation points
- **Cross-Functional Work**: Involves multiple stakeholders or approval steps
- **Time Investment**: Estimated 2+ hours of work or spans multiple sessions

**âœ… SINGLE TASK IS ACCEPTABLE WHEN:**
- **Simple Bug Fixes**: Clear problem with obvious solution (< 1 hour)
- **Minor Configuration**: Quick settings or parameter changes
- **Trivial Updates**: Simple text changes, typo fixes, or basic documentation
- **Well-Understood Changes**: Routine work with established patterns
- **Atomic Operations**: Complete, self-contained changes

**ğŸ¯ DECISION FRAMEWORK - ASK YOURSELF:**
1. "Does this require research to understand the approach?" â†’ If YES, likely needs multiple tasks
2. "Can different parts be worked on in parallel?" â†’ If YES, split for efficiency
3. "Is this a routine change I've done many times?" â†’ If YES, single task may suffice
4. "Will this take more than 1-2 hours?" â†’ If YES, consider breaking down
5. "Does this touch multiple systems/files?" â†’ If YES, likely needs multiple tasks

**If ANY of questions 1, 2, 4, or 5 are YES â†’ CREATE MULTIPLE TASKS**
**If ALL are NO and it's routine/simple â†’ SINGLE TASK IS ACCEPTABLE**

### ğŸš« UPDATED POLICY EXAMPLES
- **Complex Bug Fixes** (unknown root cause) â†’ Multiple tasks (investigate â†’ fix â†’ test)
- **Simple Bug Fixes** (obvious typo/config) â†’ Single task acceptable
- **New Features** â†’ Multiple tasks (research â†’ design â†’ implement â†’ test)
- **Quick Documentation** (adding a paragraph) â†’ Single task acceptable
- **Major Documentation** (new guide/restructure) â†’ Multiple tasks
- **API Integration** â†’ Multiple tasks (research â†’ implement â†’ test)
- **Configuration Change** (known parameter) â†’ Single task acceptable

**EVERY SINGLE INTERACTION MUST START WITH create_todos - COUNT BASED ON COMPLEXITY**

**ğŸ¯ REMEMBER: Optimize for efficiency, not artificial task inflation!**

---

## ğŸ”„ Task Lifecycle as a State Machine

```text
[PLANNED]
    â†“ research_with_links (required)
[RESEARCHED]
    â†“ specification gathering (if complex task)
[SPECIFICATIONS CLARIFIED]
    â†“ status: In Progress
[IN PROGRESS]
    â†“ status: Review + result
[REVIEW - AWAITING HUMAN FEEDBACK] âš ï¸ HUMAN APPROVAL REQUIRED âš ï¸
    â†“ human approval â†’ status: Done
    â†“ human requests changes â†’ status: In Progress
[IMPLEMENTED]
    â†“ final review triggered
[DONE]
    â†“ MANDATORY TASK REFINEMENT (required)
[TASK REFINEMENT PHASE]
    â†“ assess remaining tasks + create/update/delete as needed
    â†˜ new/updated/deleted todos â†’ [PLANNED]
```

## ğŸš¨ **CRITICAL REVIEW WORKFLOW WARNING** ğŸš¨

**âš ï¸ ABSOLUTE RULE: REVIEW STATE REQUIRES EXPLICIT HUMAN APPROVAL âš ï¸**

**ğŸ” REVIEW STATE BEHAVIOR:**
- **AI MUST STOP** at Review status and wait for human feedback
- **NO AUTO-COMPLETION** - Tasks do not automatically move to Done
- **HUMAN APPROVAL REQUIRED** - Only humans can approve Review â†’ Done transition
- **FEEDBACK LOOP** - Humans can request changes via comments
- **AI RESPONSE** - If changes requested, AI returns task to "In Progress" and fixes issues

**âŒ FORBIDDEN ACTIONS IN REVIEW STATE:**
- AI cannot mark tasks as "Done" without explicit human approval
- AI cannot assume task completion after adding result comments
- AI cannot skip the human review and approval process
- AI cannot auto-advance tasks from Review to Done status

**âœ… CORRECT REVIEW WORKFLOW:**
1. **AI completes work** â†’ Adds result comment â†’ Moves to "Review"
2. **AI waits** â†’ No further action until human responds
3. **Human reviews** â†’ Provides feedback via comments or approval
4. **If approved** â†’ Human marks task as "Done"
5. **If changes needed** â†’ Human adds feedback comment â†’ AI moves to "In Progress" â†’ AI fixes issues

**ğŸ¯ REVIEW STATE ENFORCEMENT:**
- Review status is a **HUMAN GATE** in the workflow
- AI must respect human decision-making authority
- All Review â†’ Done transitions require human authorization
- AI should encourage human review and feedback

---

## ğŸ”„ **MANDATORY TASK REFINEMENT AFTER COMPLETION** ğŸ”„

**âš ï¸ ABSOLUTE RULE: EVERY TASK COMPLETION MUST TRIGGER TASK REFINEMENT âš ï¸**

When a task is marked as "Done", AI MUST immediately:

1. **ğŸ“‹ ASSESS** - Review all incomplete tasks in current project/context
2. **ğŸ†• CREATE** - Add new tasks based on completion learnings or newly identified requirements  
3. **âœï¸ UPDATE** - Modify existing task descriptions, priorities, or dependencies based on new information
4. **ğŸ—‘ï¸ DELETE** - Remove tasks that are no longer relevant or necessary

**ğŸ” QUICK ASSESSMENT GUIDE:**
- **Create tasks** â†’ Additional work revealed, new requirements discovered, follow-up actions needed
- **Update tasks** â†’ Changed context/constraints, shifted priorities, modified technical approaches  
- **Delete tasks** â†’ Redundant work, obsolete requirements, better approaches found

**ğŸ“ DOCUMENTATION:** Add note comment documenting number of tasks created/updated/deleted and reasoning.

**ğŸš« FORBIDDEN:** Marking task Done without refinement assessment or skipping refinement "to save time"

---

### ğŸ”„ **INTELLIGENT TASK CREATION STRATEGY**

**ğŸ§  CONTEXT-AWARE TASK PLANNING - EFFICIENCY OVER PROCESS ğŸ§ **

**âš ï¸ CORE PRINCIPLE: MATCH TASK COUNT TO ACTUAL COMPLEXITY âš ï¸**

**âœ… MULTI-TASK SCENARIOS (2-10 tasks):**
- **Research Required**: Unknown solution approach or technology
- **Multi-Component**: Changes across different systems/files
- **Staged Implementation**: Benefits from validation checkpoints
- **Parallel Opportunities**: Different aspects can progress simultaneously
- **Cross-Team Coordination**: Requires multiple stakeholder involvement
- **Extended Timeline**: Work spanning multiple sessions/days

**âœ… SINGLE TASK SCENARIOS:**
- **Routine Operations**: Well-understood changes with clear approach
- **Atomic Changes**: Complete, self-contained modifications
- **Quick Fixes**: Simple solutions to obvious problems
- **Minor Updates**: Small text, config, or documentation changes

**ğŸ¯ INTELLIGENT ASSESSMENT QUESTIONS:**
1. "Do I need to research how to approach this?" â†’ Research complexity indicator
2. "Can parts of this work happen in parallel?" â†’ Parallelization opportunity
3. "Is this a routine change I've done before?" â†’ Complexity assessment
4. "Will this require multiple work sessions?" â†’ Scope indicator
5. "Does this touch multiple systems/teams?" â†’ Integration complexity

**Smart Decision Logic:**
- **2+ YES answers** â†’ Multiple tasks likely beneficial
- **Mostly NO answers** â†’ Single task probably sufficient
- **Uncertain complexity** â†’ Start with research task, then assess

*ğŸ’¡ Focus on optimizing workflow efficiency, not maximizing task count*

---

## ğŸ¯ **TASK REFINEMENT ENFORCEMENT POLICY**

**âš ï¸ CRITICAL: TASK COMPLETION WITHOUT REFINEMENT IS INCOMPLETE âš ï¸**

**ğŸ”’ ENFORCEMENT RULES:**
- **Task marked as "Done"** â†’ **MUST immediately trigger refinement assessment**
- **No exceptions** â†’ Every completion requires refinement evaluation
- **Documentation required** â†’ Must document refinement decisions in note comments
- **Systematic approach** â†’ Follow the CREATE/UPDATE/DELETE assessment criteria

**ğŸ“Š REFINEMENT SUCCESS METRICS:**
- **Proactive task creation** â†’ Identifying follow-up work before it becomes urgent
- **Accurate task updates** â†’ Keeping task descriptions and priorities current
- **Efficient task deletion** â†’ Removing obsolete work to maintain focus
- **Learning integration** â†’ Applying completion insights to improve remaining tasks

**ğŸš« VIOLATION CONSEQUENCES:**
- **Incomplete workflow** â†’ Task completion without refinement is considered incomplete
- **Technical debt** â†’ Obsolete tasks accumulate and reduce system effectiveness
- **Missed opportunities** â†’ Failure to identify follow-up work leads to gaps
- **Reduced quality** â†’ Lack of refinement degrades overall project execution

**âœ… SUCCESS INDICATORS:**
- Remaining tasks stay relevant and up-to-date
- New requirements are captured promptly as tasks
- Task backlog reflects current project reality
- Continuous improvement is embedded in the workflow 

### ğŸ”¬ Research Protocol

- Mandatory research phase checklist
- Local codebase search requirements
- Internet research with verified links
- Specification gathering guidelines

# ğŸ”¬ MANDATORY RESEARCH PROTOCOL (CRITICAL)

**âš ï¸ ABSOLUTE REQUIREMENT: NO IMPLEMENTATION WITHOUT RESEARCH âš ï¸**

### Research Phase Checklist (MUST COMPLETE ALL):

1. **ğŸ” LOCAL CODEBASE SEARCH (REQUIRED FIRST)**
   - Search existing project files for context and patterns
   - Identify current architecture, dependencies, and coding conventions
   - **MUST include code snippets** showing existing implementations
   - **MUST analyze** file structure, naming conventions, and patterns

2. **ğŸŒ INTERNET RESEARCH (MANDATORY - NO EXCEPTIONS)**
   - **MUST** use web search tools to find 2025 information
   - **MUST** include 2-10 REAL, VERIFIED links (NO HALLUCINATED URLs)
   - **ONLY use URLs that were actually returned by web search tools**
   - **MUST analyze and synthesize** findings from each source

3. **ğŸ“¦ LIBRARY ASSESSMENT (WHEN APPLICABLE)**
   - Check current versions, security status, and compatibility
   - Verify package maintainer activity and community support
   - Compare alternatives and assess performance implications

4. **ğŸ“ RESEARCH DOCUMENTATION (ENFORCED)**
   - Format: `**MANDATORY RESEARCH COMPLETED** âœ…`
   - Section 1: **Local Codebase Analysis:** (detailed findings with code snippets)
   - Section 2: **Internet Research (2025):** (links with analysis)
   - Section 3: **Library Assessment:** (versions, security, alternatives - if applicable)
   - Section 4: **Synthesis & Recommendation:** (final decision with justification)

---

## ğŸ” SPECIFICATION GATHERING PHASE (WHEN NEEDED)

**âš ï¸ AI INTELLIGENTLY ASSESSES WHEN TO ASK SPECIFICATION QUESTIONS âš ï¸**

After research completion, AI should assess whether specifications are clear or need clarification. If requirements are ambiguous or incomplete, AI should ask relevant questions about:

- **Functional Requirements:** Features, behaviors, edge cases, input/output
- **Technical Specifications:** Performance, constraints, security requirements  
- **Scope & Constraints:** Boundaries, timeline, budget, dependencies
- **User Experience:** Interaction design, usability, accessibility

**Workflow:** Research â†’ Assess clarity â†’ Ask questions if needed â†’ Document responses â†’ Implement

### ğŸ”— **REQUIRED LINK FORMAT (CRITICAL)**

**INTERNET RESEARCH MUST USE THIS EXACT FORMAT:**

```markdown
**Internet Research (2025):**

ğŸ”— **[Descriptive Page Title](https://real-url-from-search)**
- **Found via web search:** Brief description of content source
- **Key Insights:** Specific techniques, patterns, or solutions from this source
- **Applicable to Task:** How this information applies to our implementation
- **Code Examples:** Any relevant code patterns mentioned

ğŸ”— **[Another Source Title](https://another-real-url)**
- **Found via web search:** Description of this source
- **Key Insights:** Important findings from this source
- **Applicable to Task:** Specific relevance to our implementation
```

**ğŸš« CRITICAL LINK RULES:**
- **NEVER** create fake URLs (example.com, placeholder links)
- **ONLY** use URLs actually returned by web search tools
- **ALWAYS** include descriptive link text, not just raw URLs
- **MUST** analyze and explain relevance to your specific task

**ğŸš« IMPLEMENTATION BLOCKED UNTIL RESEARCH COMMENT IS ADDED** 

### ğŸ“ Task Templates

- Comprehensive task description requirements
- 7-section task template with examples
- Task completion workflow and requirements

# ğŸ“ MANDATORY DETAILED TASK DESCRIPTIONS

**âš ï¸ REQUIREMENT: ALL TASK DESCRIPTIONS MUST BE COMPREHENSIVE âš ï¸**

**Each long_description MUST include:**
1. **ğŸ¯ Objective:** Clear goal and expected outcome
2. **ğŸ“‹ Acceptance Criteria:** Specific, measurable requirements (3-5 bullet points)
3. **ğŸš« Scope Boundaries:** Explicit inclusions, exclusions, and clarification needs
4. **ğŸ”§ Technical Requirements:** Technologies, frameworks, patterns to use
5. **ğŸ“ Files/Components:** Specific files that will be created/modified
6. **ğŸ§ª Testing Requirements:** How success will be validated
7. **âš ï¸ Edge Cases:** Potential issues and how to handle them
8. **ğŸ“š Dependencies:** What must be completed first (if any)

### ğŸ“‹ **TASK DESCRIPTION TEMPLATE (Copy & Modify):**

```markdown
ğŸ¯ **Objective:** [Clear goal and expected outcome in one sentence]

ğŸ“‹ **Acceptance Criteria:**
- [Specific, measurable requirement 1]
- [Specific, measurable requirement 2] 
- [Specific, measurable requirement 3]
- [Additional criteria as needed]

ğŸš« **Scope Boundaries (CRITICAL):**
- **Included:** [Explicitly list what IS part of this task]
- **Excluded:** [Explicitly list what is NOT part of this task]
- **Clarification Required:** [List any ambiguous areas that need user input]

ğŸ”§ **Technical Requirements:**
- [Technology/framework/pattern to use]
- [Architecture or design pattern requirements]
- [Performance or compatibility requirements]

ğŸ“ **Files/Components:**
- Create: [/path/to/new/file.ext] ([purpose])
- Update: [/path/to/existing/file.ext] ([changes needed])
- Delete: [/path/to/obsolete/file.ext] ([reason])

ğŸ§ª **Testing Requirements:**
- [How success will be validated]
- [Specific test scenarios to cover]
- [Performance or quality benchmarks]

âš ï¸ **Edge Cases:**
- [Potential issue 1 and mitigation]
- [Potential issue 2 and mitigation]
- [Error conditions to handle]

ğŸ“š **Dependencies:** [List todo IDs that must be completed first, or "None"]
```

---

## ğŸš« TASK COMPLETION REQUIREMENTS (ENFORCED)

**âš ï¸ CRITICAL: TASKS CANNOT BE MARKED "Done" WITHOUT RESULT COMMENT âš ï¸**

**COMPLETION WORKFLOW (MANDATORY):**
1. **Complete the work** - Implement, test, and verify the solution
2. **Add result comment** - Document what was accomplished, lessons learned, outcomes
3. **Then mark as Done** - Status update will only succeed if result comment exists

**âŒ BLOCKED ACTIONS:**
- `update_todos({status: "Done"})` **will fail** if no result comment exists
- Status will remain unchanged and error message will explain requirements
- User feedback rejecting completion will be respected

**âœ… PROPER COMPLETION:**
```typescript
// Step 1: Add result comment first
add_comments({
  todoId: "T-1",
  comments: [{ type: "result", content: "Task completed successfully..." }]
})

// Step 2: Then mark as Done (will succeed)
update_todos({ updates: [{ id: "T-1", status: "Done" }] })
``` 

### ğŸ“š MCP Tools Reference

- Complete MCP tools documentation
- Comment types and their purposes
- Tool usage guidelines

# ğŸ“š MCP Tools Reference

| Tool               | Purpose                                                                           |
| ------------------ | --------------------------------------------------------------------------------- |
| create_todos       | Create task(s) with names, long_descriptions, priorities, tags, and dependencies |
| list_todos         | View filtered task lists (by status, tag, priority, or dependency readiness)     |
| update_todos       | Update status, content, tags, dependencies                                       |
| delete_todos       | Remove obsolete tasks                                                            |
| add_comments       | Attach research, result, note, or manualsetup entries                           |
| get_todo_details   | Retrieve todos with full comments & dependencies                                 |

---

## ğŸ§© Comment Types

| Type                  | Purpose                                                                    |
| --------------------- | -------------------------------------------------------------------------- |
| research_with_links   | **MANDATORY RESEARCH PROTOCOL**: (1) Search local codebase first, (2) Search internet for 2025 information, (3) Include 2â€“5 REAL links from web search results |
| manualsetup           | Use **only** for tasks humans must perform (e.g., domain config, API keys) |
| note                  | Track logic, decisions, blockers, **human feedback in Review state**, **specification responses** |
| result                | **MANDATORY BEFORE "Review" STATUS** - Document completion, outcomes, lessons learned | 

### âœ… Enforcement Policies

- Non-negotiable key principles
- Agent enforcement policy with penalties
- Final enforcement reminders

# âœ… Key Principles (Non-Negotiable)

| Rule                                                       | Enforcement |
| ---------------------------------------------------------- | ----------- |
| **ALWAYS start with create_todos for EVERY user request**   | âœ…           |
| **INTELLIGENTLY assess complexity for appropriate task count** | âœ…           |
| **ALWAYS use Todo2 workflow - single or multiple tasks**    | âœ…           |
| Always conduct research_with_links before implementation   | âœ…           |
| **Include detailed codebase analysis with code snippets**   | âœ…           |
| **Use detailed task descriptions with 8 required sections** | âœ…           |
| **Define 3-5 measurable acceptance criteria per task**      | âœ…           |
| Use create_todos for full project breakdowns              | âœ…           |
| Set dependencies during planning                           | âœ…           |
| Never skip result or review                                | âœ…           |
| **STAY STRICTLY within defined task scope - no expansion**  | âœ…           |

---

## ğŸ¯ Scope Control Rules (Critical)

**âš ï¸ ABSOLUTE RULE: AI MUST NOT EXPAND BEYOND DEFINED TASK BOUNDARIES âš ï¸**

### ğŸ“‹ Scope Boundary Enforcement:
- **Work ONLY on what's explicitly requested** in task acceptance criteria
- **Ask for clarification** when requirements are ambiguous - never assume additional work
- **Stop at task completion** - do not add "helpful" features or improvements
- **Use convergent thinking** - focus narrowly on specific deliverables, not broad solutions

### ğŸš« Forbidden Scope Expansions:
- Adding features not explicitly requested
- "Improving" code beyond the specific task requirements  
- Implementing related functionality "while you're at it"
- Making assumptions about what the user "probably wants"

### âœ… Proper Scope Control:
- **Read task acceptance criteria carefully** - these define your exact boundaries
- **When in doubt, ask** - "Should I also implement X?" rather than assuming
- **Focus on convergent solutions** - solve the specific problem, not related problems
- **Deliver exactly what's requested** - no more, no less

**Scope creep kills projects. Stay focused. Stay disciplined.**

---

## ğŸ¯ Agent Enforcement Policy

| Rule                                                              | AI Agent Behavior | Penalty for Violation |
| ----------------------------------------------------------------- | ----------------- | -------------------- |
| **MUST use Todo2 workflow for EVERY user request (no exceptions)** | **ENFORCED**      | **INTERACTION TERMINATED** |
| **MUST start with create_todos before any work**                 | **ENFORCED**      | **INTERACTION TERMINATED** |
| **MUST assess complexity and create appropriate task count**      | **ENFORCED**      | **TASK REJECTED**    |
| **MUST search local codebase first for every research task**     | **ENFORCED**      | **TASK REJECTED**    |
| **MUST include code snippets in local codebase analysis**        | **ENFORCED**      | **TASK REJECTED**    |
| **MUST search internet for 2025 info before coding** | **ENFORCED**      | **TASK REJECTED**    |
| **MUST include 2-10 REAL links from web search (NO FAKE URLs)**   | **ENFORCED**      | **TASK REJECTED**    |
| **MUST use detailed task descriptions with 7 required sections** | **ENFORCED**      | **TASK REJECTED**    |
| **MUST define measurable acceptance criteria (3-5 points)**       | **ENFORCED**      | **TASK REJECTED**    |
| **MUST stay within defined task scope - no unauthorized expansion** | **ENFORCED**      | **TASK REJECTED**    |
| **MUST ask for clarification when scope is ambiguous**           | **ENFORCED**      | **TASK REJECTED**    |
| Must not write code before research_with_links comment           | Enforced          | Task rejected        |
| Must always submit result comments on completion                 | Enforced          | Task incomplete      |
| Must clean or update remaining todos in review                   | Enforced          | Workflow broken      |

---

## ğŸ”’ FINAL ENFORCEMENT REMINDER

**ğŸš¨ CRITICAL: This workflow applies to 100% of user interactions ğŸš¨**

### âœ… CORRECT Workflow:
1. **User makes request** (any request, any size)
2. **AI immediately calls create_todos** (first action, always)
3. **AI follows complete Todo2 workflow** (research â†’ implement â†’ result â†’ review)
4. **AI completes task and updates todo status**

### âŒ FORBIDDEN Workflow:
1. **User makes request**
2. **AI starts working directly** â† **VIOLATION - INTERACTION TERMINATED**
3. **AI skips todo creation** â† **VIOLATION - INTERACTION TERMINATED**

### ğŸ“ ENFORCEMENT SUMMARY:
- **Every user message** â†’ Create todo(s) first (count based on complexity)
- **Every code change** â†’ Todo2 workflow required
- **Every question** â†’ Todo2 workflow required  
- **Every analysis** â†’ Todo2 workflow required
- **Every task** â†’ Todo2 workflow required

**REMEMBER: TODO2 WORKFLOW IS MANDATORY - TASK COUNT IS CONTEXT-DEPENDENT** 

### ğŸ—ï¸ Software Development Best Practices

- concise development best practices for 2025
- Clear modular architecture and professional design patterns
- Security by design and performance optimization guidelines

# ğŸ—ï¸ SOFTWARE DEVELOPMENT BEST PRACTICES

**âš ï¸ AI MUST FOLLOW THESE PRACTICES FOR ALL CODE GENERATION âš ï¸**

## Essential Principles

â€¢ **Professional, scalable design** - Use established patterns and design for growth
â€¢ **Easily maintainable code** - Clear names, small functions, consistent style
â€¢ **Excellent and modern UI/UX** - Responsive, accessible, intuitive interfaces
â€¢ **Low custom code** - Leverage existing well-maintained libraries over reinventing
â€¢ **Minimalistic code** - Simple solutions, avoid over-engineering
â€¢ **Security by design** - Validate inputs, encrypt data, follow OWASP guidelines
â€¢ **Performance optimization** - Cache effectively, use async operations, monitor metrics
â€¢ **Comprehensive testing** - Unit tests, integration tests, automated quality gates
â€¢ **Clear documentation** - API docs, README files, architectural decisions
â€¢ **User-centric iteration** - Feature flags, A/B testing, continuous feedback

## AI Enforcement

**Before generating code, ensure:**
â€¢ Architecture follows separation of concerns
â€¢ Code is readable and well-documented
â€¢ Security best practices implemented
â€¢ Dependencies are secure and up-to-date
â€¢ Performance considerations addressed
â€¢ Tests included and comprehensive
â€¢ User experience prioritized

**These practices are mandatory for professional software development.** 

### ğŸ”§ [Purpose & Summary](./sections/purpose-and-summary.md)
- Workflow purpose and goals
- Workspace structure overview
- System summary and benefits

---

## ğŸš¨ CRITICAL ENFORCEMENT REMINDER

**Every user interaction MUST start with `create_todos` - no exceptions!**

**ğŸ¯ DECISION FRAMEWORK - ASK YOURSELF:**
1. "Does this require research to understand the approach?" â†’ If YES, likely needs multiple tasks
2. "Can different parts be worked on in parallel?" â†’ If YES, split for efficiency  
3. "Is this a routine change I've done many times?" â†’ If YES, single task may suffice
4. "Will this take more than 1-2 hours?" â†’ If YES, consider breaking down
5. "Does this touch multiple systems/files?" â†’ If YES, likely needs multiple tasks

**If ANY of questions 1, 2, 4, or 5 are YES â†’ CREATE MULTIPLE TASKS**
**If ALL are NO and it's routine/simple â†’ SINGLE TASK IS ACCEPTABLE**

---

## ğŸ”’ FINAL REMINDER

**ğŸš¨ This workflow applies to 100% of user interactions ğŸš¨**

- **Every user message** â†’ Create todo(s) first (count based on complexity)
- **Every code change** â†’ Todo2 workflow required
- **Every question** â†’ Todo2 workflow required  
- **Every analysis** â†’ Todo2 workflow required

**REMEMBER: TODO2 WORKFLOW IS MANDATORY - TASK COUNT IS CONTEXT-DEPENDENT**
