import{R as e,r as s,j as a,aa as r,y as t,Z as l,z as i,T as n}from"./react-m-WA-DAu.js";import{u as c}from"./Dashboard-BWOdoUig.js";import d from"./RealtimeStatus-DD3TxqFc.js";import"./vendor-CCzY5YmT.js";import"./index-BH92hES8.js";import"./utils-qIfB5D_q.js";import"./SEOHead-CWeMjKrp.js";const o=e.memo(({className:e="",maxSignals:o=20,showFilters:x=!0})=>{const{signals:m,isConnected:h}=c(),[u,j]=s.useState("all"),[g,p]=s.useState(.5),b=m.filter(e=>!("bullish"===u&&"bullish"!==e.direction||"bearish"===u&&"bearish"!==e.direction||e.confidence<g)).slice(0,o),f=e=>{switch(e){case"bullish":return a.jsx(n,{className:"w-4 h-4 text-green-500"});case"bearish":return a.jsx(i,{className:"w-4 h-4 text-red-500"});default:return a.jsx(l,{className:"w-4 h-4 text-gray-500"})}},y=e=>{switch(e){case"bullish":return"border-l-green-500 bg-green-50";case"bearish":return"border-l-red-500 bg-red-50";default:return"border-l-gray-500 bg-gray-50"}},N=e=>{const s=new Date(e),a=(new Date).getTime()-s.getTime(),r=Math.floor(a/6e4);return r<1?"Teraz":r<60?`${r}m temu`:r<1440?`${Math.floor(r/60)}h temu`:s.toLocaleDateString("pl-PL")};return a.jsxs("div",{className:`bg-white rounded-lg shadow ${e}`,children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sygnały SMC Live"}),a.jsx(d,{})]}),x&&a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(r,{className:"w-4 h-4 text-gray-400"}),a.jsxs("select",{value:u,onChange:e=>j(e.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"Wszystkie"}),a.jsx("option",{value:"bullish",children:"Wzrostowe"}),a.jsx("option",{value:"bearish",children:"Spadkowe"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Min. pewność:"}),a.jsxs("select",{value:g,onChange:e=>p(parseFloat(e.target.value)),className:"text-sm border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:.3,children:"30%"}),a.jsx("option",{value:.5,children:"50%"}),a.jsx("option",{value:.7,children:"70%"}),a.jsx("option",{value:.8,children:"80%"}),a.jsx("option",{value:.9,children:"90%"})]})]})]})]}),a.jsxs("div",{className:"max-h-96 overflow-y-auto",children:[!h&&a.jsx("div",{className:"p-4 text-center text-gray-500",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(t,{className:"w-5 h-5"}),a.jsx("span",{children:"Łączenie z serwerem..."})]})}),h&&0===b.length&&a.jsx("div",{className:"p-4 text-center text-gray-500",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(l,{className:"w-5 h-5"}),a.jsx("span",{children:"Brak sygnałów spełniających kryteria"})]})}),b.map(e=>a.jsxs("div",{className:`border-l-4 p-4 border-b border-gray-100 last:border-b-0 ${y(e.direction)}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[f(e.direction),a.jsx("span",{className:"font-medium text-gray-900",children:e.symbol}),a.jsx("span",{className:"text-xs px-2 py-1 bg-white rounded-full border",children:e.direction.toUpperCase()})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[(100*e.confidence).toFixed(0),"%"]}),a.jsx("div",{className:"text-xs text-gray-500",children:N(e.created_at)})]}),e.is_processed&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full",title:"Przetworzony"})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"text-gray-600",children:["Typ: ",a.jsx("span",{className:"font-medium",children:e.signal_type})," | Kierunek: ",a.jsx("span",{className:"font-medium",children:e.direction})]}),a.jsx("div",{className:"flex items-center space-x-1",children:a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 w-16",children:a.jsx("div",{className:"h-1.5 rounded-full "+(e.confidence>=.8?"bg-green-500":e.confidence>=.6?"bg-yellow-500":"bg-red-500"),style:{width:100*e.confidence+"%"}})})})]})]},e.id))]}),b.length>0&&a.jsx("div",{className:"p-3 bg-gray-50 text-center",children:a.jsxs("span",{className:"text-xs text-gray-500",children:["Wyświetlono ",b.length," z ",m.length," sygnałów"]})})]})});export{o as default};
