import{R as e,j as s,a3 as a,a7 as t,ao as n,ap as c,T as r,J as l}from"./react-m-WA-DAu.js";import{u as x,a as i}from"./Dashboard-BWOdoUig.js";import"./vendor-CCzY5YmT.js";import"./index-BH92hES8.js";import"./utils-qIfB5D_q.js";import"./SEOHead-CWeMjKrp.js";const m=e.memo(({className:e="",showDetails:m=!1})=>{const{isConnected:d,connectionError:o,refreshData:h}=x(),{isConnected:j,error:N,connectionStatus:p,connect:g}=i(),f=j,w=async()=>{await h()};if(m)return s.jsxs("div",{className:`bg-white rounded-lg shadow p-4 ${e}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Status połączenia"}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:w,className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Odśwież dane Supabase",children:s.jsx(a,{className:"w-4 h-4"})}),s.jsx("button",{onClick:g,disabled:j,className:"p-1 transition-colors "+(j?"text-gray-300 cursor-not-allowed":"text-gray-400 hover:text-gray-600"),title:"Połącz z Binance WebSocket",children:s.jsx(t,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(n,{className:"w-4 h-4"}),d?s.jsxs(s.Fragment,{children:[s.jsx(t,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{className:"text-sm text-green-700",children:"Supabase: Połączono"})]}):s.jsxs(s.Fragment,{children:[s.jsx(c,{className:"w-4 h-4 text-red-500"}),s.jsx("span",{className:"text-sm text-red-700",children:"Supabase: Rozłączono"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(r,{className:"w-4 h-4"}),f?s.jsxs(s.Fragment,{children:[s.jsx(t,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{className:"text-sm text-green-700",children:"Binance WebSocket: Połączono"})]}):s.jsxs(s.Fragment,{children:[s.jsx(c,{className:"w-4 h-4 text-red-500"}),s.jsx("span",{className:"text-sm text-red-700",children:"Binance WebSocket: Rozłączono"})]})]}),m&&(()=>{const e=Object.entries(p);return e.length>0?s.jsx("div",{className:"ml-6 space-y-1",children:e.map(([e,a])=>s.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[s.jsx("div",{className:"w-2 h-2 rounded-full "+("connected"===a?"bg-green-500":"connecting"===a?"bg-yellow-500":"bg-red-500")}),s.jsxs("span",{className:"text-gray-600",children:[e,": ",String(a)]})]},e))}):null})(),s.jsx("div",{className:"flex items-center space-x-2 pt-2 border-t border-gray-200",children:d&&f?s.jsxs(s.Fragment,{children:[s.jsx(t,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{className:"text-sm font-medium text-green-700",children:"System: Online"})]}):s.jsxs(s.Fragment,{children:[s.jsx(c,{className:"w-4 h-4 text-red-500"}),s.jsx("span",{className:"text-sm font-medium text-red-700",children:"System: Offline"})]})}),o&&s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(l,{className:"w-4 h-4 text-amber-500 mt-0.5 flex-shrink-0"}),s.jsxs("span",{className:"text-sm text-amber-700",children:["Supabase: ",o]})]}),N&&s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(l,{className:"w-4 h-4 text-amber-500 mt-0.5 flex-shrink-0"}),s.jsxs("span",{className:"text-sm text-amber-700",children:["Binance: ",N]})]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Real-time dane rynkowe, transakcje i sygnały SMC"})]})]});const b=d&&f,u=o||N;return s.jsxs("div",{className:`flex items-center space-x-2 ${e}`,children:[b?s.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[s.jsx(t,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Live"})]}):s.jsxs("div",{className:"flex items-center space-x-1 text-red-600",children:[s.jsx(c,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Offline"})]}),u&&s.jsx(l,{className:"w-4 h-4 text-amber-500"}),s.jsx("button",{onClick:w,className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Odśwież połączenie",children:s.jsx(a,{className:"w-3 h-3"})})]})});export{m as default};
