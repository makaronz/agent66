import{R as e,r as s,j as a,aa as t,y as r,D as l,al as i,am as n,an as c,af as d,I as m}from"./react-m-WA-DAu.js";import{u as x}from"./Dashboard-BWOdoUig.js";import o from"./RealtimeStatus-DD3TxqFc.js";import"./vendor-CCzY5YmT.js";import"./index-BH92hES8.js";import"./utils-qIfB5D_q.js";import"./SEOHead-CWeMjKrp.js";const u=e.memo(({className:e="",maxTrades:u=15,showFilters:j=!0})=>{const{trades:h,isConnected:g}=x(),[p,b]=s.useState("all"),[y,N]=s.useState("all"),v=h.filter(e=>!("buy"===p&&"buy"!==e.side||"sell"===p&&"sell"!==e.side||"all"!==y&&e.status!==y)).slice(0,u),f=e=>{switch(e){case"filled":return a.jsx(m,{className:"w-4 h-4 text-green-500"});case"cancelled":return a.jsx(d,{className:"w-4 h-4 text-red-500"});case"pending":return a.jsx(c,{className:"w-4 h-4 text-yellow-500 animate-spin"});default:return a.jsx(r,{className:"w-4 h-4 text-gray-500"})}},w=e=>{switch(e){case"filled":return"bg-green-50 border-l-green-500";case"cancelled":return"bg-red-50 border-l-red-500";case"pending":return"bg-yellow-50 border-l-yellow-500";default:return"bg-gray-50 border-l-gray-500"}},D=e=>{const s=new Date(e),a=(new Date).getTime()-s.getTime(),t=Math.floor(a/6e4);return t<1?"Teraz":t<60?`${t}m temu`:t<1440?`${Math.floor(t/60)}h temu`:s.toLocaleDateString("pl-PL",{hour:"2-digit",minute:"2-digit"})},k=(e,s)=>new Intl.NumberFormat("pl-PL",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e*s);return a.jsxs("div",{className:`bg-white rounded-lg shadow ${e}`,children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Transakcje Live"}),a.jsx(o,{})]}),j&&a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(t,{className:"w-4 h-4 text-gray-400"}),a.jsxs("select",{value:p,onChange:e=>b(e.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"Wszystkie"}),a.jsx("option",{value:"buy",children:"Kupno"}),a.jsx("option",{value:"sell",children:"Sprzedaż"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),a.jsxs("select",{value:y,onChange:e=>N(e.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"Wszystkie"}),a.jsx("option",{value:"pending",children:"Oczekujące"}),a.jsx("option",{value:"filled",children:"Wykonane"}),a.jsx("option",{value:"cancelled",children:"Anulowane"})]})]})]})]}),a.jsxs("div",{className:"max-h-96 overflow-y-auto",children:[!g&&a.jsx("div",{className:"p-4 text-center text-gray-500",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(r,{className:"w-5 h-5"}),a.jsx("span",{children:"Łączenie z serwerem..."})]})}),g&&0===v.length&&a.jsx("div",{className:"p-4 text-center text-gray-500",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(l,{className:"w-5 h-5"}),a.jsx("span",{children:"Brak transakcji spełniających kryteria"})]})}),v.map(e=>{return a.jsxs("div",{className:`border-l-4 p-4 border-b border-gray-100 last:border-b-0 ${w(e.status)}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[(r=e.side,"buy"===r?a.jsx(i,{className:"w-4 h-4 text-green-500"}):a.jsx(n,{className:"w-4 h-4 text-red-500"})),a.jsx("span",{className:"font-medium text-gray-900",children:e.symbol}),a.jsx("span",{className:"text-xs px-2 py-1 rounded-full border "+("buy"===e.side?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200"),children:e.side.toUpperCase()})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[f(e.status),a.jsx("div",{className:"text-right",children:a.jsx("div",{className:"text-xs text-gray-500",children:D(e.timestamp)})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600",children:"Ilość"}),a.jsx("div",{className:"font-medium",children:(t=e.quantity,new Intl.NumberFormat("pl-PL",{minimumFractionDigits:0,maximumFractionDigits:6}).format(t))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600",children:"Cena"}),a.jsxs("div",{className:"font-medium",children:["$",(s=e.price,new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2,maximumFractionDigits:8}).format(s))]})]})]}),a.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("div",{className:"text-gray-600",children:"Wartość całkowita"}),a.jsx("div",{className:"font-medium text-gray-900",children:k(e.quantity,e.price)})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-1",children:[a.jsxs("div",{children:["Status: ",e.status]}),a.jsxs("div",{children:["ID: ",e.id.slice(0,8),"..."]})]})]})]},e.id);var s,t,r})]}),v.length>0&&a.jsx("div",{className:"p-3 bg-gray-50 text-center",children:a.jsxs("span",{className:"text-xs text-gray-500",children:["Wyświetlono ",v.length," z ",h.length," transakcji"]})})]})});export{u as default};
