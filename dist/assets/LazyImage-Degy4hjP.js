import{r as e,j as s}from"./react-m-WA-DAu.js";import{c as t}from"./index-BH92hES8.js";const r=({src:r,alt:a,className:i,placeholder:n="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjNmNGY2Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzlDQTNBRiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkxvYWRpbmcuLi48L3RleHQ+PC9zdmc+",onLoad:c,onError:l})=>{const[o,d]=e.useState(!1),[m,u]=e.useState(!1),[I,g]=e.useState(!1),b=e.useRef(null),x=e.useRef(null);return e.useEffect(()=>{const e=b.current;if(e)return x.current=new IntersectionObserver(e=>{const[s]=e;s.isIntersecting&&(u(!0),x.current?.disconnect())},{threshold:.1,rootMargin:"50px"}),x.current.observe(e),()=>{x.current?.disconnect()}},[]),s.jsxs("div",{className:t("relative overflow-hidden",i),children:[s.jsx("img",{ref:b,src:m?I?n:r:n,alt:a,loading:"lazy",decoding:"async",onLoad:()=>{d(!0),c?.()},onError:()=>{g(!0),l?.()},className:t("w-full h-full object-cover transition-opacity duration-300",o?"opacity-100":"opacity-70")}),!o&&m&&!I&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}),I&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 text-gray-500 text-sm",children:"Failed to load image"})]})};export{r as L};
