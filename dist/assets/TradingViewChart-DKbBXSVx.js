import{R as e,r as s,j as t,C as r,A as a,T as n}from"./react-m-WA-DAu.js";import"./vendor-CCzY5YmT.js";const i=e.memo(({symbol:e,interval:i="15m",theme:l="light",height:c=400,className:d=""})=>{const m=s.useRef(null),o=s.useRef(null);return s.useEffect(()=>{if(o.current&&(o.current.remove(),o.current=null),!m.current)return;const s=`tradingview_${e.toLowerCase()}`,t=setTimeout(()=>{if(!m.current)return;const t=document.createElement("script");t.src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js",t.type="text/javascript",t.async=!0,t.onerror=()=>{},t.innerHTML=JSON.stringify({autosize:!0,symbol:`BINANCE:${e}`,interval:i,timezone:"Europe/Warsaw",theme:l,style:"1",locale:"pl",enable_publishing:!1,allow_symbol_change:!0,calendar:!1,support_host:"https://www.tradingview.com",studies:["STD;SMA","STD;EMA","STD;RSI","STD;MACD"],show_popup_button:!0,popup_width:"1000",popup_height:"650",container_id:s}),o.current=t,m.current.appendChild(t)},100);return()=>{clearTimeout(t),o.current&&(o.current.remove(),o.current=null)}},[e,i,l]),t.jsxs("div",{className:`bg-white rounded-lg shadow ${d}`,children:[t.jsx("div",{className:"p-4 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(r,{className:"w-5 h-5 text-blue-600"}),t.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[e," Chart"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(a,{className:"w-4 h-4 text-green-500"}),t.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Live"})]})]})}),t.jsx("div",{className:"relative",style:{height:`${c}px`},children:t.jsx("div",{ref:m,id:`tradingview_${e.toLowerCase()}`,className:"w-full h-full",children:t.jsx("div",{className:"flex items-center justify-center h-full bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx(n,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsxs("p",{className:"text-gray-600",children:["Ładowanie wykresu ",e,"..."]}),t.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Interwał: ",i]})]})})})}),t.jsx("div",{className:"p-3 bg-gray-50 border-t border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[t.jsx("span",{children:"Powered by TradingView"}),t.jsx("span",{children:"Real-time data from Binance"})]})})]})});export{i as default};
